CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

ADD_DEFINITIONS(-DUSE_GPU)
INCLUDE_DIRECTORIES(/usr/local/cuda/samples/common/inc)
FIND_PACKAGE(CUDA REQUIRED)
FIND_CUDA_HELPER_LIBS(curand)
SET(CUDA_TOOLKIT_ROOT_DIR ${CUDA_ROOT})
MESSAGE("CUDA_INCLUDE: " ${CUDA_INCLUDE_DIRS})
INCLUDE_DIRECTORIES(SYSTEM ${CUDA_INCLUDE_DIRS})
SET(CUDA_LIBRARIES ${CUDA_LIBRARIES} ${CUDA_curand_LIBRARY})
MESSAGE("CUDA_LIBRARIES: ${CUDA_LIBRARIES}")
SET(LIBS ${LIBS} ${CUDA_LIBRARIES})
INCLUDE_DIRECTORIES(cnmem/include cuda include)
ADD_SUBDIRECTORY(cnmem)
ADD_SUBDIRECTORY(cuda)
SET(LIBS ${LIBS} n3ldg_cuda)
